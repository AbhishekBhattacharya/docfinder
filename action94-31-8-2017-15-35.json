{"customServices":{"deployments":[{"spec":{"selector":{"matchLabels":{"app":"app"}},"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":1},"type":"RollingUpdate"},"template":{"spec":{"containers":[{"image":"app-default.app-app:498e2de2c0b4101fe800d8c984cf21385730d318","env":[{"value":"8080","name":"PORT"}],"name":"app","ports":[{"protocol":"TCP","containerPort":8080}]}]},"metadata":{"labels":{"app":"app","hasuraService":"custom"}}},"replicas":1},"metadata":{"annotations":{"kubernetes.io/change-cause":"kubectl set image deployment/app app=app-default.app-app:498e2de2c0b4101fe800d8c984cf21385730d318 --namespace=default --record=true","deployment.kubernetes.io/revision":"6"},"namespace":"default","name":"app","labels":{"app":"app","hasuraService":"custom"}}}],"services":[{"spec":{"selector":{"app":"app"},"ports":[{"targetPort":8080,"protocol":"TCP","port":80}],"type":"ClusterIP"},"metadata":{"namespace":"default","name":"app","labels":{"app":"app","hasuraService":"custom"}}}]},"data":{"schema":"--\n-- PostgreSQL database dump\n--\n\n-- Dumped from database version 9.6.3\n-- Dumped by pg_dump version 9.6.3\n\n-- Started on 2017-08-31 10:05:14 UTC\n\nSET statement_timeout = 0;\nSET lock_timeout = 0;\nSET idle_in_transaction_session_timeout = 0;\nSET client_encoding = 'UTF8';\nSET standard_conforming_strings = on;\nSET check_function_bodies = false;\nSET client_min_messages = warning;\nSET row_security = off;\n\nSET search_path = public, pg_catalog;\n\nSET default_tablespace = '';\n\nSET default_with_oids = false;\n\n--\n-- TOC entry 231 (class 1259 OID 17113)\n-- Name: appointment_details; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE appointment_details (\n    bookingid integer NOT NULL,\n    health_issue text,\n    preferred_time integer,\n    speciality text,\n    pat_id integer,\n    date date DEFAULT now(),\n    doc_id integer\n);\n\n\nALTER TABLE appointment_details OWNER TO admin;\n\n--\n-- TOC entry 229 (class 1259 OID 17074)\n-- Name: patient_details; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE patient_details (\n    pat_id integer NOT NULL,\n    name text,\n    age integer,\n    sex text,\n    pat_location text\n);\n\n\nALTER TABLE patient_details OWNER TO admin;\n\n--\n-- TOC entry 228 (class 1259 OID 16829)\n-- Name: Doctor; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE \"Doctor\" (\n    doc_id integer NOT NULL,\n    name text,\n    experience integer,\n    designation text,\n    doc_time integer,\n    doc_location text,\n    doc_specialization text\n);\n\n\nALTER TABLE \"Doctor\" OWNER TO admin;\n\n--\n-- TOC entry 227 (class 1259 OID 16827)\n-- Name: Doctor_doc_id_seq; Type: SEQUENCE; Schema: public; Owner: admin\n--\n\nCREATE SEQUENCE \"Doctor_doc_id_seq\"\n    START WITH 1\n    INCREMENT BY 1\n    NO MINVALUE\n    NO MAXVALUE\n    CACHE 1;\n\n\nALTER TABLE \"Doctor_doc_id_seq\" OWNER TO admin;\n\n--\n-- TOC entry 2393 (class 0 OID 0)\n-- Dependencies: 227\n-- Name: Doctor_doc_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin\n--\n\nALTER SEQUENCE \"Doctor_doc_id_seq\" OWNED BY \"Doctor\".doc_id;\n\n\n--\n-- TOC entry 230 (class 1259 OID 17111)\n-- Name: appointment_details_bookingid_seq; Type: SEQUENCE; Schema: public; Owner: admin\n--\n\nCREATE SEQUENCE appointment_details_bookingid_seq\n    START WITH 1\n    INCREMENT BY 1\n    NO MINVALUE\n    NO MAXVALUE\n    CACHE 1;\n\n\nALTER TABLE appointment_details_bookingid_seq OWNER TO admin;\n\n--\n-- TOC entry 2394 (class 0 OID 0)\n-- Dependencies: 230\n-- Name: appointment_details_bookingid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin\n--\n\nALTER SEQUENCE appointment_details_bookingid_seq OWNED BY appointment_details.bookingid;\n\n\n--\n-- TOC entry 235 (class 1259 OID 17323)\n-- Name: location; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE location (\n    location text NOT NULL\n);\n\n\nALTER TABLE location OWNER TO admin;\n\n--\n-- TOC entry 234 (class 1259 OID 17315)\n-- Name: specialization; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE specialization (\n    specialization text NOT NULL\n);\n\n\nALTER TABLE specialization OWNER TO admin;\n\n--\n-- TOC entry 233 (class 1259 OID 17214)\n-- Name: timeslot; Type: TABLE; Schema: public; Owner: admin\n--\n\nCREATE TABLE timeslot (\n    id integer NOT NULL,\n    range text\n);\n\n\nALTER TABLE timeslot OWNER TO admin;\n\n--\n-- TOC entry 232 (class 1259 OID 17212)\n-- Name: timeslot_id_seq; Type: SEQUENCE; Schema: public; Owner: admin\n--\n\nCREATE SEQUENCE timeslot_id_seq\n    START WITH 1\n    INCREMENT BY 1\n    NO MINVALUE\n    NO MAXVALUE\n    CACHE 1;\n\n\nALTER TABLE timeslot_id_seq OWNER TO admin;\n\n--\n-- TOC entry 2395 (class 0 OID 0)\n-- Dependencies: 232\n-- Name: timeslot_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin\n--\n\nALTER SEQUENCE timeslot_id_seq OWNED BY timeslot.id;\n\n\n--\n-- TOC entry 2238 (class 2604 OID 16832)\n-- Name: Doctor doc_id; Type: DEFAULT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY \"Doctor\" ALTER COLUMN doc_id SET DEFAULT nextval('\"Doctor_doc_id_seq\"'::regclass);\n\n\n--\n-- TOC entry 2239 (class 2604 OID 17116)\n-- Name: appointment_details bookingid; Type: DEFAULT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details ALTER COLUMN bookingid SET DEFAULT nextval('appointment_details_bookingid_seq'::regclass);\n\n\n--\n-- TOC entry 2241 (class 2604 OID 17217)\n-- Name: timeslot id; Type: DEFAULT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY timeslot ALTER COLUMN id SET DEFAULT nextval('timeslot_id_seq'::regclass);\n\n\n--\n-- TOC entry 2243 (class 2606 OID 16837)\n-- Name: Doctor Doctor_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY \"Doctor\"\n    ADD CONSTRAINT \"Doctor_pkey\" PRIMARY KEY (doc_id);\n\n\n--\n-- TOC entry 2247 (class 2606 OID 17121)\n-- Name: appointment_details appointment_details_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details\n    ADD CONSTRAINT appointment_details_pkey PRIMARY KEY (bookingid);\n\n\n--\n-- TOC entry 2254 (class 2606 OID 17330)\n-- Name: location location_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY location\n    ADD CONSTRAINT location_pkey PRIMARY KEY (location);\n\n\n--\n-- TOC entry 2245 (class 2606 OID 17081)\n-- Name: patient_details patient_details_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY patient_details\n    ADD CONSTRAINT patient_details_pkey PRIMARY KEY (pat_id);\n\n\n--\n-- TOC entry 2252 (class 2606 OID 17322)\n-- Name: specialization specialization_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY specialization\n    ADD CONSTRAINT specialization_pkey PRIMARY KEY (specialization);\n\n\n--\n-- TOC entry 2250 (class 2606 OID 17222)\n-- Name: timeslot timeslot_pkey; Type: CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY timeslot\n    ADD CONSTRAINT timeslot_pkey PRIMARY KEY (id);\n\n\n--\n-- TOC entry 2248 (class 1259 OID 17254)\n-- Name: timeslot_unique_index; Type: INDEX; Schema: public; Owner: admin\n--\n\nCREATE UNIQUE INDEX timeslot_unique_index ON appointment_details USING btree (preferred_time, pat_id, date);\n\n\n--\n-- TOC entry 2256 (class 2606 OID 17346)\n-- Name: Doctor Doctor_doc_location_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY \"Doctor\"\n    ADD CONSTRAINT \"Doctor_doc_location_fkey\" FOREIGN KEY (doc_location) REFERENCES location(location);\n\n\n--\n-- TOC entry 2257 (class 2606 OID 17351)\n-- Name: Doctor Doctor_doc_specialization_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY \"Doctor\"\n    ADD CONSTRAINT \"Doctor_doc_specialization_fkey\" FOREIGN KEY (doc_specialization) REFERENCES specialization(specialization);\n\n\n--\n-- TOC entry 2255 (class 2606 OID 17268)\n-- Name: Doctor Doctor_doc_time_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY \"Doctor\"\n    ADD CONSTRAINT \"Doctor_doc_time_fkey\" FOREIGN KEY (doc_time) REFERENCES timeslot(id);\n\n\n--\n-- TOC entry 2260 (class 2606 OID 17310)\n-- Name: appointment_details appointment_details_doc_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details\n    ADD CONSTRAINT appointment_details_doc_id_fkey FOREIGN KEY (doc_id) REFERENCES \"Doctor\"(doc_id);\n\n\n--\n-- TOC entry 2259 (class 2606 OID 17141)\n-- Name: appointment_details appointment_details_pat_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details\n    ADD CONSTRAINT appointment_details_pat_id_fkey FOREIGN KEY (pat_id) REFERENCES patient_details(pat_id);\n\n\n--\n-- TOC entry 2262 (class 2606 OID 17336)\n-- Name: appointment_details appointment_details_preferred_time_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details\n    ADD CONSTRAINT appointment_details_preferred_time_fkey1 FOREIGN KEY (preferred_time) REFERENCES timeslot(id);\n\n\n--\n-- TOC entry 2261 (class 2606 OID 17331)\n-- Name: appointment_details appointment_details_speciality_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY appointment_details\n    ADD CONSTRAINT appointment_details_speciality_fkey FOREIGN KEY (speciality) REFERENCES specialization(specialization);\n\n\n--\n-- TOC entry 2258 (class 2606 OID 17341)\n-- Name: patient_details patient_details_pat_location_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin\n--\n\nALTER TABLE ONLY patient_details\n    ADD CONSTRAINT patient_details_pat_location_fkey FOREIGN KEY (pat_location) REFERENCES location(location);\n\n\n-- Completed on 2017-08-31 10:05:18 UTC\n\n--\n-- PostgreSQL database dump complete\n--\n\n","metadata":{"query_templates":[],"tables":[{"select_permissions":[{"role":"user","comment":null,"permission":{"columns":["pat_id","name","age","sex","pat_location"],"filter":{"pat_id":"REQ_USER_ID"}}}],"object_relationships":[],"insert_permissions":[{"role":"user","comment":null,"permission":{"check":{"pat_id":"REQ_USER_ID"}}}],"table":"patient_details","update_permissions":[],"delete_permissions":[],"array_relationships":[]},{"select_permissions":[{"role":"user","comment":null,"permission":{"columns":["id","range"],"filter":{}}}],"object_relationships":[],"insert_permissions":[],"table":"timeslot","update_permissions":[],"delete_permissions":[],"array_relationships":[]},{"select_permissions":[{"role":"user","comment":null,"permission":{"columns":["bookingid","health_issue","preferred_time","speciality","pat_id","date","doc_id"],"filter":{"pat_id":"REQ_USER_ID"}}}],"object_relationships":[{"using":{"foreign_key_constraint_on":"doc_id"},"name":"current_doctor","comment":null},{"using":{"foreign_key_constraint_on":"preferred_time"},"name":"timeslot_booked","comment":null}],"insert_permissions":[{"role":"user","comment":null,"permission":{"check":{"pat_id":"REQ_USER_ID"}}}],"table":"appointment_details","update_permissions":[],"delete_permissions":[{"role":"user","comment":null,"permission":{"filter":{"pat_id":"REQ_USER_ID"}}}],"array_relationships":[]},{"select_permissions":[],"object_relationships":[],"insert_permissions":[],"table":"location","update_permissions":[],"delete_permissions":[],"array_relationships":[]},{"select_permissions":[{"role":"user","comment":null,"permission":{"columns":["doc_id","name","experience","designation","doc_time","doc_location","doc_specialization"],"filter":{}}}],"object_relationships":[{"using":{"foreign_key_constraint_on":"doc_time"},"name":"doc_available_time","comment":null}],"insert_permissions":[],"table":"Doctor","update_permissions":[],"delete_permissions":[],"array_relationships":[]},{"select_permissions":[],"object_relationships":[],"insert_permissions":[],"table":"specialization","update_permissions":[],"delete_permissions":[],"array_relationships":[]}]}},"projectConf":{"gateway":{"service":{"externalIPs":["10.240.0.4"],"ports":[{"targetPort":80,"protocol":"TCP","name":"http","port":80},{"targetPort":443,"protocol":"TCP","name":"https","port":443},{"targetPort":22,"protocol":"TCP","name":"ssh","port":22}]},"httpDirectives":["gzip               on;","gzip_http_version  1.1;","gzip_min_length    1024;","gzip_types         text/plain text/css text/javascript application/json application/x-javascript application/javascript text/xml     application/xml application/xml+rss;","gzip_proxied       any;","gzip_disable       msie6;","gzip_comp_level    1;"],"httpRoutes":{"console":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"console"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}},"auth":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"auth"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}},"k8s":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"k8s"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":["admin"],"upstreamServicePath":"/"}},"data":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"data"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}},"app":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"default","name":"app"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}},"notify":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"notify"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}},"filestore":{"/":{"upstreamServicePort":80,"corsPolicy":[],"enableAuth":true,"locationDirectives":[],"upstreamService":{"namespace":"hasura","name":"filestore"},"enableCORS":true,"enableWebsockets":true,"restrictToRoles":null,"upstreamServicePath":"/"}}},"domains":{"action94.hasura-app.io":{"ssl":{"conf":{"account":"action94hasura185"},"type":"LetsEncrypt"}}}},"ssh":{"authorizedKeys":{"secretKeyRef":{"key":"ssh.authorizedKeys","name":"hasura-project-secrets"}}},"continuousIntegration":{"remotes":{"app":{"default.app":{"app":{"path":".","dockerfile":"./Dockerfile"}}}}},"services":{"auth":{"allowOTPSignup":"","smsProvider":"msg91","mobileSenderName":"action94","updateUserOnEmailConfirm":"yes","cookieAge":"1209600","mobileTemplateVerify":"Hi %(name)s. Verify your phone for your action94 account. Your OTP is %(otp)s.\n","linkedInScopes":"","loginFields":"[\"username\", \"email\", \"mobile\"]","linkedInClientId":"","logLevel":"WARN","emailVerificationExpiresDays":"5","linkedInRedirectUri":"","googleRedirectUri":"","emailSparkpostKey":{"secretKeyRef":{"key":"auth.sparkpost.key","name":"hasura-project-secrets"}},"djangoSecretKey":{"secretKeyRef":{"key":"auth.secretKey","name":"hasura-project-secrets"}},"cookieSecure":"","saUser":"admin","recaptchaEnabled":"","emailMandrillKey":"","mobileMsg91Key":{"secretKeyRef":{"key":"auth.msg91.key","name":"hasura-project-secrets"}},"googleClientSecret":{"secretKeyRef":{"key":"auth.google.client_secret","name":"hasura-project-secrets"}},"concurrentSessions":"true","logoutMethods":"[\"POST\"]","mobileTemplateRegister":"Welcome to action94 %(name)s! Your OTP is %(otp)s.\n","linkedInClientSecret":{"secretKeyRef":{"key":"auth.linkedin.client_secret","name":"hasura-project-secrets"}},"debug":"","cookiePath":"/","githubRedirectUri":"","allowOTPLogin":"","facebookRedirectUri":"","facebookClientId":"","githubScopes":"","facebookClientSecret":{"secretKeyRef":{"key":"auth.facebook.client_secret","name":"hasura-project-secrets"}},"githubClientSecret":{"secretKeyRef":{"key":"auth.github.client_secret","name":"hasura-project-secrets"}},"saMobile":"","emailVerificationMandatory":"","emailTemplateWelcomeNew":"","emailTemplateEmailChanged":"","emailSenderId":"admin@example.com","emailTemplateForgotPass":"Hi %(name)s, <br/>click on http://action94.hasura-app.io/resetpassword/%(token)s to reset your password.\n","cookieServerOnly":"yes","emailTemplateRegister":"Hi, Please click on http://action94.hasura-app.io/%(token)s to verify your email.\n","recaptchaSecret":{"secretKeyRef":{"key":"auth.recaptcha.secret","name":"hasura-project-secrets"}},"saPassword":{"secretKeyRef":{"key":"auth.admin.password","name":"hasura-project-secrets"}},"googleClientId":"","emailProvider":"sparkpost","passwordResetExpiresDays":"2","mobileVerificationExpiresMins":"15","googleScopes":"","allowUserAccountDelete":"yes","emailSenderName":"Example Webmaster","emailAwsSecretKey":"","emailTemplateVerify":"Hi, Please click on http://action94.hasura-app.io/%(token)s to verify your email.\n","cookieName":"dinoisses","sessionExpireOnBrowserClose":"yes","emailAwsKey":"","mobileTemplateEmailChanged":"","emailTemplateMobileChanged":"","saEmail":"getstarteduser@hasura.io","mobileTemplateWelcomeNew":"","mobileVerificationMandatory":"","githubClientId":"","facebookScopes":"","passwordMinLength":"8"},"notify":{"email":{"default":"SparkPost","providers":{"sparkPostConf":{"sparkKey":{"secretKeyRef":{"key":"notify.sparkpost.key","name":"hasura-project-secrets"}}},"smtpConf":{"smtpUsername":{"secretKeyRef":{"key":"notify.smtp.username","name":"hasura-project-secrets"}},"smtpPassword":{"secretKeyRef":{"key":"notify.smtp.password","name":"hasura-project-secrets"}},"smtpPort":465,"smtpHostname":""}}},"sms":{"default":"MSG91","providers":{"twilioConf":{"authToken":{"secretKeyRef":{"key":"notify.twilio.authtoken","name":"hasura-project-secrets"}},"twilioFrom":"","accountSid":{"secretKeyRef":{"key":"notify.twilio.accountsid","name":"hasura-project-secrets"}}},"msg91Conf":{"msg91From":"","msg91Key":{"secretKeyRef":{"key":"notify.msg91.key","name":"hasura-project-secrets"}}}}}},"postgres":{"database":"hasuradb","volume":{"name":"postgres-pv","hostPath":{"path":"/data/hasura.io/postgres"}},"user":{"secretKeyRef":{"key":"postgres.user","name":"hasura-project-secrets"}},"password":{"secretKeyRef":{"key":"postgres.password","name":"hasura-project-secrets"}},"port":"5432"},"notifyTxt":"{\"email\":{\"default\":\"SparkPost\",\"providers\":{\"sparkPostConf\":{\"sparkKey\":{\"secretKeyRef\":{\"key\":\"notify.sparkpost.key\",\"name\":\"hasura-project-secrets\"}}},\"smtpConf\":{\"smtpUsername\":{\"secretKeyRef\":{\"key\":\"notify.smtp.username\",\"name\":\"hasura-project-secrets\"}},\"smtpPassword\":{\"secretKeyRef\":{\"key\":\"notify.smtp.password\",\"name\":\"hasura-project-secrets\"}},\"smtpPort\":465,\"smtpHostname\":\"\"}}},\"sms\":{\"default\":\"MSG91\",\"providers\":{\"twilioConf\":{\"authToken\":{\"secretKeyRef\":{\"key\":\"notify.twilio.authtoken\",\"name\":\"hasura-project-secrets\"}},\"twilioFrom\":\"\",\"accountSid\":{\"secretKeyRef\":{\"key\":\"notify.twilio.accountsid\",\"name\":\"hasura-project-secrets\"}}},\"msg91Conf\":{\"msg91From\":\"\",\"msg91Key\":{\"secretKeyRef\":{\"key\":\"notify.msg91.key\",\"name\":\"hasura-project-secrets\"}}}}}}","filestore":{"volume":{"name":"filestore-pv","hostPath":{"path":"/data/hasura.io/filestore"}},"_hasHookUrl":true,"hookUrl":"http://filestore-check.default/public-read"}}},"catalogVersion":"v3"}